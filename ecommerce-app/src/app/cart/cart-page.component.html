<div class="cart-container">
  <h2>Shopping Cart</h2>

  <div *ngIf="cartItems$ | async as cartItems">
    <div *ngIf="cartItems.length; else emptyCart">
      <div class="cart-list">
        <div *ngFor="let item of cartItems" class="cart-item">
          <img
            [src]="item.image || 'https://via.placeholder.com/80'"
            alt="{{ item.title }}"
          />
          <div class="details">
            <h4>{{ item.title }}</h4>
            <p class="price">${{ item.price | number : "1.2-2" }}</p>
            <p class="rating">Rating: {{ item.rating?.rate || 4 }} ⭐</p>
            <button (click)="removeItem(item.id)">Remove</button>
          </div>
        </div>
      </div>

      <div class="summary">
        <h3>Total: ${{ getTotal(cartItems) | number : "1.2-2" }}</h3>
        <button class="checkout">Proceed to Checkout</button>
      </div>
    </div>

    <ng-template #emptyCart>
      <div class="empty-cart">
        <p>Your cart is empty.</p>
        <a routerLink="/">← Continue Shopping</a>
      </div>
    </ng-template>
  </div>
</div>
